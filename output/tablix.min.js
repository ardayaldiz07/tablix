/*! DEV: Arda Yaldiz */
(()=>{function l(t){var e=document.createElement("tr");return e.className="tx-tr",e}let h=function(t,e){return t.includes(".")?t.split(".").reduce(function(t,e){return null==t?void 0:t[e]},e):null==e?void 0:e[t]};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=i(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==i(t)?t:t+""))(r.key),r)}}var s=(()=>{function r(t,e,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.container=t,this.options=e,this.data=[],this.filterItems=e.filter.items,this.setFilteredData=n,this.render()}return t=r,(e=[{key:"setData",value:function(t){this.data=t}},{key:"handleChange",value:function(e){var t,n=this;console.log(e),0==e?this.setFilteredData(this.data):(t=this.data.filter(function(t){return(h(n.options.filter.field,t)||[]).some(function(t){return t.name.toLowerCase()===e.toLowerCase()})}),this.setFilteredData(t))}},{key:"clear",value:function(){this.select.value=0}},{key:"render",value:function(){var n=this,t=document.createElement("div"),e=(t.className="tx-filter",this.select=document.createElement("select"),document.createElement("option"));e.value=0,e.text="Tüm Kategoriler",this.select.appendChild(e),this.filterItems.forEach(function(t){var e=document.createElement("option");e.value=t,e.text=t,n.select.appendChild(e)}),this.select.addEventListener("change",function(t){n.handleChange(t.target.value)}),t.appendChild(this.select),this.container.appendChild(t)}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n})();let u=function(t,e,n){var r=t.length,i=Math.ceil(r/e),n=n<i?n:i-1,a=n*e;return{visibleData:t.slice(a,a+e),totalItems:r,totalPages:i,currentPage:n,itemsPerPage:e}},c=function(t){return t.enabled||!1};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=o(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==o(t)?t:t+""))(r.key),r)}}var d=(()=>{function r(t,e,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.container=t,this.options=e,this.callback=n,this.selectedLength=5,this.currentPage=0,this.paginatedData=[],this.nav=[],this.setPaginateList()}return t=r,(e=[{key:"handleChange",value:function(t){this.selectedLength=t,this.callback(0,this.selectedLength,!0),this.nav.numbers&&(this.nav.numbers.innerHTML="",this.nav.numbers.appendChild(this.renderPageNumbers(!0)))}},{key:"setPaginatedData",value:function(t){this.paginatedData=t}},{key:"lengthFilter",value:function(){var e=this;if(this.options.pagination.length){var t=document.createElement("div"),n=(t.className="tx-length",document.createElement("select"));n.className="tx-length-select";for(var r=0,i=this.options.pagination.length.length;r<i;r++){var a=this.options.pagination.length[r],o=document.createElement("option");o.value=a.value,o.text=a.text,o.selected=a.selected||!1,a.selected&&(this.selectedLength=a.value),n.appendChild(o)}return n.addEventListener("change",function(t){e.handleChange(t.target.value)}),t.appendChild(n),t}return null}},{key:"renderPageNumbers",value:function(){for(var n=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,i=document.createElement("div"),a=(i.classList.add("tx-page-number-wrapper"),i.style.display="flex",document.createElement("div")),o=(a.className="tx-page-number-container",this.paginatedData.totalPages),s=null!=e?e:Math.max(0,this.currentPage-Math.floor(1.5)),u=null!=r?r:Math.min(o-1,s+3-1),r=(1<this.currentPage&&(e=this.startButton("1"),a.appendChild(e)),document.createElement("button")),c=(r.innerText="<",a.appendChild(r),r.addEventListener("click",function(){0<s&&(s--,u--,n.nav.numbers)&&(n.nav.numbers.innerHTML="",n.nav.numbers.appendChild(n.renderPageNumbers(!0,s,u)))}),s);c<=u;c++)(t=>{var e=document.createElement("button");e.style.margin="5px",e.style.cursor="pointer",e.innerText=t+1,e.classList.add("tx-page-number"),t===n.currentPage&&e.classList.add("active"),e.addEventListener("click",function(){n.currentPage=t,n.callback(n.currentPage,n.selectedLength,!0),n.nav.numbers&&(n.nav.numbers.innerHTML="",n.nav.numbers.appendChild(n.renderPageNumbers(!0)))}),a.appendChild(e)})(c);var e=document.createElement("button");return e.innerText=">",a.appendChild(e),e.addEventListener("click",function(){u<o-1&&(s++,u++,n.nav.numbers)&&(n.nav.numbers.innerHTML="",n.nav.numbers.appendChild(n.renderPageNumbers(!0,s,u)))}),this.currentPage<o-2&&((r=document.createElement("span")).innerText=" . . . ",a.appendChild(r),e=this.endButton(o),a.appendChild(e)),t?a:(i.appendChild(a),i)}},{key:"nextButton",value:function(){var t,e=this;return(t=document.createElement("button")).className="tx-next-btn",t.innerHTML="Sıradaki",t.addEventListener("click",function(){e.currentPage<e.paginatedData.totalPages-1&&(e.currentPage++,e.callback(e.currentPage,e.selectedLength,!0),e.nav.numbers)&&(e.nav.numbers.innerHTML="",e.nav.numbers.appendChild(e.renderPageNumbers(!0)))}),t}},{key:"prevButton",value:function(){var t,e=this;return(t=document.createElement("button")).className="tx-prev-btn",t.innerHTML="Önceki",t.addEventListener("click",function(){0<e.currentPage&&(e.currentPage--,e.callback(e.currentPage,e.selectedLength,!0),e.nav.numbers)&&(e.nav.numbers.innerHTML="",e.nav.numbers.appendChild(e.renderPageNumbers(!0)))}),t}},{key:"renderSelectbox",value:function(){var e=this,t=document.createElement("select");t.className="tx-selectBox";for(var n=0;n<this.paginatedData.totalPages;n++){var r=document.createElement("option");r.value=n,r.innerText=n+1,t.appendChild(r)}return t.addEventListener("change",function(t){e.currentPage=parseInt(t.target.value),e.callback(e.currentPage,e.selectedLength,!0),e.nav.numbers&&(e.nav.numbers.innerHTML="",e.nav.numbers.appendChild(e.renderPageNumbers(!0)))}),t}},{key:"setCurrentPage",value:function(){this.currentPage=0,this.callback(this.currentPage,this.selectedLength,!0)}},{key:"startButton",value:function(t){var e=this,n=document.createElement("button");return n.innerText=t,n.addEventListener("click",function(){0<e.currentPage&&(e.currentPage=0,e.callback(e.currentPage,e.selectedLength,!0),e.nav.numbers)&&(e.nav.numbers.innerHTML="",e.nav.numbers.appendChild(e.renderPageNumbers(!0)))}),n}},{key:"endButton",value:function(t){var e=this,n=document.createElement("button");return n.innerText=t,n.addEventListener("click",function(){e.currentPage=parseInt(e.paginatedData.totalPages-1),e.callback(e.currentPage,e.selectedLength,!0),e.nav.numbers&&(e.nav.numbers.innerHTML="",e.nav.numbers.appendChild(e.renderPageNumbers(!0)))}),n}},{key:"renderButtons",value:function(){for(var t=document.createElement("div"),e=(t.className="tx-navigate-buttons",{prev:this.prevButton(),next:this.nextButton(),start:this.startButton("Başa Dön"),end:this.endButton("Sona Git"),numbers:this.renderPageNumbers(),selectPage:this.renderSelectbox()}),n=0,r=this.options.pagination.buttons.length;n<r;n++){var i=this.options.pagination.buttons[n];this.nav[i]=e[i],t.appendChild(this.nav[i])}return t}},{key:"getPaginateLength",value:function(){for(var t=0,e=this.options.pagination.length.length;t<e;t++){var n=this.options.pagination.length[t];n.selected&&(this.selectedLength=n.value)}}},{key:"setPaginateList",value:function(){this.getPaginateLength(),this.callback(this.currentPage,this.selectedLength)}},{key:"render",value:function(){this.paginationWrapper&&this.paginationWrapper.remove(),this.paginationWrapper=document.createElement("div"),this.paginationWrapper.className="tx-pagination";var t=this.renderButtons(),e=this.lengthFilter();e&&this.paginationWrapper.appendChild(e),this.nav.numbers&&(this.nav.numbers.innerHTML="",this.nav.numbers.appendChild(this.renderPageNumbers(!0))),this.paginationWrapper.appendChild(t),this.container.appendChild(this.paginationWrapper)}}])&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n})();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=f(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==f(t)?t:t+""))(r.key),r)}}var v=(()=>{function r(t,e,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.container=t,this.data=[],this.change=n,this.defaultKeyword=e.search.default||"",this.searchFields=e.search.fields,this.render()}return t=r,(e=[{key:"setData",value:function(t){this.data=t,this.defaultKeyword&&(this.inputElement.value=this.defaultKeyword,this.change(this.filteredData(this.defaultKeyword)))}},{key:"filteredData",value:function(n){var t=this;return this.data.filter(function(e){return t.searchFields.some(function(t){t=t.split(".").reduce(function(t,e){return t&&t[e]},e);return String(t).toLowerCase().includes(n.toLowerCase())})})}},{key:"handleInputChange",value:function(t){t=t.target.value;this.change(this.filteredData(t))}},{key:"clear",value:function(){this.inputElement.value=""}},{key:"createSearchInput",value:function(){var t=document.createElement("div");t.className="tx-search",this.inputElement=document.createElement("input"),this.inputElement.type="search",this.inputElement.placeholder="Search: ".concat(this.searchFields.join(", ")),this.inputElement.className="tx-search-input",this.inputElement.addEventListener("input",this.handleInputChange.bind(this)),t.appendChild(this.inputElement),this.container.appendChild(t)}},{key:"render",value:function(){this.createSearchInput()}}])&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n})();let y=function(t,e){for(var n=h(t.field,e)||[],r="",i=0,a=n.length;i<a;i++){var o=n[i],s=i!=a-1?t.splitBy:"";r+="".concat(h(t.splitField,o)," ").concat(s," ")}return r};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=g(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==g(t)?t:t+""))(r.key),r)}}var w=(()=>{function r(t,e,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.columns=t,this.options=e,this.data=n,this.render()}return t=r,(e=[{key:"render",value:function(){(t=document.createElement("tbody")).className="tx-body";for(var t,e=t,n=0,r=this.data.length;n<r;n++){for(var i=l(),a=this.data[n],o=0,s=this.columns.length;o<s;o++){var u,c=this.columns[o];u=void 0,(u=document.createElement("td")).className="tx-td";c.splitField?u.innerHTML=y(c,a):u.innerHTML=h(c.field,a),i.appendChild(u)}e.appendChild(i)}return e}}])&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n})();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=P(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=P(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==P(t)?t:t+""))(r.key),r)}}var L=(()=>{function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.columns=t,this.options=e}return t=n,(e=[{key:"render",value:function(){for(var t,r=this,i=((t=document.createElement("thead")).className="tx-head",l()),e=function(){var t,e,n=r.columns[a];(e=document.createElement("th")).className="tx-th";e.innerHTML=n.text,n.sort&&((t=document.createElement("span")).className="sort-icon",r.options.sortedColumn===n.field?t.innerHTML="asc"===r.options.sortOrder?"↑":"↓":t.innerHTML="↕",e.appendChild(t),e.addEventListener("click",function(){var t=r.options.sortedColumn===n.field&&"asc"===r.options.sortOrder?"desc":"asc";r.options.onSort&&r.options.onSort(n.field,t)})),i.appendChild(e)},a=0,n=this.columns.length;a<n;a++)e();return t.appendChild(i),t}}])&&E(t.prototype,e),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r})();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function x(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=r,n=i[t=t],(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function T(){T=function(){return o};var u,o={},t=Object.prototype,c=t.hasOwnProperty,l=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(u){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,a,o,s,e=e&&e.prototype instanceof y?e:y,e=Object.create(e.prototype),r=new C(r||[]);return l(e,"_invoke",{value:(i=t,a=n,o=r,s=p,function(t,e){if(s===f)throw Error("Generator is already running");if(s===m){if("throw"===t)throw e;return{value:u,done:!0}}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){n=function t(e,n){var r=n.method,i=e.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=u,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,o);if(n){if(n===v)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===p)throw s=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=f;n=h(i,a,o);if("normal"===n.type){if(s=o.done?m:d,n.arg===v)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s=m,o.method="throw",o.arg=n.arg)}})}),e}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var p="suspendedStart",d="suspendedYield",f="executing",m="completed",v={};function y(){}function g(){}function b(){}var e={},w=(a(e,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),P=(w&&w!==t&&c.call(w,r)&&(e=w),b.prototype=y.prototype=Object.create(e));function E(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function L(o,s){var e;l(this,"_invoke",{value:function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var a,t=h(o[t],o,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==j(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t}).next=t}throw new TypeError(j(e)+" is not iterable")}return l(P,"constructor",{value:g.prototype=b,configurable:!0}),l(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,i,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,i,"GeneratorFunction")),t.prototype=Object.create(P),t},o.awrap=function(t){return{__await:t}},E(L.prototype),a(L.prototype,n,function(){return this}),o.AsyncIterator=L,o.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var a=new L(s(t,e,n,r),i);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(P),a(P,i,"Generator"),a(P,r,function(){return this}),a(P,"toString",function(){return"[object Generator]"}),o.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var a=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,k(i)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),v}},o}function k(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function C(s){return function(){var t=this,o=arguments;return new Promise(function(e,n){var r=s.apply(t,o);function i(t){k(r,e,n,i,a,"next",t)}function a(t){k(r,e,n,i,a,"throw",t)}i(void 0)})}}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function O(t){t=((t,e)=>{if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=j(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string");return"symbol"==j(t)?t:t+""}var t=(()=>{function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.container=document.querySelector(t);this.options=Object.assign({},e),this.reUpdate=!1,this.topArea=document.createElement("div"),this.topArea.className="tx-top",this.tableWrapper=document.createElement("div"),this.tableWrapper.className="tx-table-wrapper",this.bottomArea=document.createElement("div"),this.bottomArea.className="tx-bottom",this.data=Object.assign([],this.options.data),this.dataPathBase=Object.assign([],this.options.data),this.formattedData=Object.assign([],this.options.data),this.sortedColumn=null,this.sortOrder=null,this.init()}return t=n,(e=[{key:"fetchData",value:(o=C(T().mark(function t(){var e;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.options.api);case 2:return e=t.sent,t.next=5,e.json();case 5:e=t.sent,this.data=e,this.dataPathBase=h(this.options.apiBasePath,e),this.formattedData=this.dataPathBase;case 9:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"sortData",value:function(n,r){this.sortedColumn=n,this.sortOrder=r,this.formattedData.sort(function(t,e){t=t[n],e=e[n];return"string"==typeof t&&(t=t.toLowerCase(),e=e.toLowerCase()),t<e?"asc"===r?-1:1:e<t?"asc"===r?1:-1:0}),this.reInit()}},{key:"renderTable",value:function(){var t,e,n,r,i=this;0!=this.formattedData.length&&(r=this.formattedData,this.pagination&&(e=u(this.formattedData,parseInt(this.paginationLength),parseInt(this.paginationIndex)),this.pagination.setPaginatedData(e),this.reUpdate||this.pagination.render(),r=e.visibleData),(e=document.createElement("table")).className="tx-table",t=e,n=new L(this.options.columns,x(x({},this.options),{},{sortedColumn:this.sortedColumn,sortOrder:this.sortOrder,onSort:function(t,e){i.sortData(t,e)}})).render(),r=new w(this.options.columns,this.options,r).render(),t.appendChild(n),t.appendChild(r),this.tableWrapper.innerHTML="",this.tableWrapper.appendChild(t))}},{key:"setupPagination",value:function(){var r=this;this.pagination=new d(this.bottomArea,this.options,function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];r.paginationIndex=t,r.paginationLength=e,n&&(r.reUpdate=n,r.reInit())}),this.reInit()}},{key:"setupSearch",value:function(){var e=this;this.searchPlugin=new v(this.topArea,this.options,function(t){e.formattedData=t,e.filter&&e.filter.clear(),e.pagination&&(e.pagination.setCurrentPage(),e.pagination.render()),e.reInit()})}},{key:"setupFilter",value:function(){var e=this;this.filter=new s(this.topArea,this.options,function(t){e.formattedData=t,e.searchPlugin&&e.searchPlugin.clear(),e.pagination&&(e.pagination.setCurrentPage(),e.pagination.render()),e.reInit()})}},{key:"pluginSet",value:function(){this.searchPlugin&&this.searchPlugin.setData(this.dataPathBase),this.filter&&this.filter.setData(this.dataPathBase)}},{key:"htmlTemplate",value:function(){c(this.options.filter)&&this.setupFilter(),c(this.options.search)&&this.setupSearch(),this.topArea.innerHTML&&this.container.appendChild(this.topArea),this.container.appendChild(this.tableWrapper),c(this.options.pagination)&&this.setupPagination(),this.bottomArea.innerHTML&&this.container.appendChild(this.bottomArea);var t=document.createElement("link");this.container.classList.add(this.options.theme),t.rel="stylesheet",t.href="./output/theme.min.css",document.head.appendChild(t)}},{key:"reInit",value:function(){this.renderTable()}},{key:"loading",value:(a=C(T().mark(function t(){var e,n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(e=document.createElement("h1")).innerText="Loading",e.style.textAlign="center",this.container.appendChild(e),n=0;case 5:if(n<3)return e.innerText+=".",t.next=9,new Promise(function(t){return setTimeout(t,150)});t.next=12;break;case 9:n++,t.next=5;break;case 12:return t.next=14,new Promise(function(t){return setTimeout(t,300)});case 14:return this.container.removeChild(e),t.abrupt("return");case 16:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"init",value:(i=C(T().mark(function t(){return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.container){t.next=2;break}return t.abrupt("return");case 2:if(this.container.classList.add("tablix"),this.options.api)return t.next=6,this.fetchData();t.next=6;break;case 6:this.htmlTemplate(),this.pluginSet(),this.pagination||this.reInit();case 9:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})}])&&S(t.prototype,e),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,i,a,o})();window.Tablix=t})();